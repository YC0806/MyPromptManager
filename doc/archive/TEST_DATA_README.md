# æµ‹è¯•æ•°æ®ç”Ÿæˆè¯´æ˜

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•ç”Ÿæˆå’Œä½¿ç”¨æµ‹è¯•æ•°æ®ã€‚

## ğŸ“‹ æµ‹è¯•æ•°æ®å†…å®¹

### 1. æç¤ºè¯ (Prompts) - 5 ä¸ª

| ID | æ ‡é¢˜ | æè¿° | æ ‡ç­¾ |
|----|------|------|------|
| `17624181723706T8HN33F0NQD6QF0` | ä»£ç å®¡æŸ¥åŠ©æ‰‹ | å¸®åŠ©å¼€å‘è€…è¿›è¡Œä»£ç å®¡æŸ¥ï¼Œæä¾›æ”¹è¿›å»ºè®® | å¼€å‘, ä»£ç å®¡æŸ¥, æœ€ä½³å®è·µ |
| `17624181724103TE6T2WEETFAQ5PH` | API æ–‡æ¡£ç”Ÿæˆå™¨ | æ ¹æ®ä»£ç è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£ | æ–‡æ¡£, API, è‡ªåŠ¨åŒ– |
| `176241817244206J50MDRNJSVMQW1` | SQL æŸ¥è¯¢ä¼˜åŒ–å™¨ | åˆ†æå’Œä¼˜åŒ– SQL æŸ¥è¯¢æ€§èƒ½ | æ•°æ®åº“, SQL, æ€§èƒ½ä¼˜åŒ– |
| `1762418172474KXZHE0MVNG3ZKZFC` | æŠ€æœ¯æ–‡ç« å†™ä½œåŠ©æ‰‹ | å¸®åŠ©æ’°å†™æŠ€æœ¯åšå®¢æ–‡ç«  | å†™ä½œ, æŠ€æœ¯åšå®¢, æ•™ç¨‹ |
| `17624181724983EXFK8YP9FDVF4XJ` | Bug è°ƒè¯•åŠ©æ‰‹ | å¸®åŠ©å®šä½å’Œä¿®å¤ä»£ç  bug | è°ƒè¯•, æ•…éšœæ’æŸ¥, å¼€å‘ |

**å‘å¸ƒçŠ¶æ€**ï¼š
- âœ… å‰ 3 ä¸ªæç¤ºè¯å·²å‘å¸ƒ v1.0.0 (prod channel)
- â³ å 2 ä¸ªæç¤ºè¯ä¸ºè‰ç¨¿çŠ¶æ€

### 2. æ¨¡ç‰ˆ (Templates) - 3 ä¸ª

| ID | æ ‡é¢˜ | æè¿° | å˜é‡ |
|----|------|------|------|
| `1762418172522V46Z9ACQ91BNYDME` | ä»£ç ç”Ÿæˆæ¨¡ç‰ˆ | é€šç”¨ä»£ç ç”Ÿæˆæ¨¡ç‰ˆï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ | LANGUAGE, FEATURE, FRAMEWORK |
| `1762418172546399G97XQ0CWVBHEV` | æµ‹è¯•ç”¨ä¾‹æ¨¡ç‰ˆ | æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆæ¨¡ç‰ˆ | FEATURE, TEST_TYPE, FRAMEWORK |
| `17624181725703J7B8F3DQQHGBE0A` | æ•°æ®åˆ†ææ¨¡ç‰ˆ | æ•°æ®åˆ†æä»»åŠ¡æ¨¡ç‰ˆ | DATASET, ANALYSIS_GOAL, METRICS |

**çŠ¶æ€**ï¼šå…¨éƒ¨ä¸ºè‰ç¨¿çŠ¶æ€

### 3. å¯¹è¯å†å² (Chats) - 2 ä¸ª

| ID | æ ‡é¢˜ | æè¿° | æ ‡ç­¾ |
|----|------|------|------|
| `1762418172594N6KANY37VKC3JG48` | è®¨è®ºä»£ç é‡æ„æ–¹æ¡ˆ | ä¸ AI è®¨è®ºå¦‚ä½•é‡æ„ä¸€ä¸ªå¤æ‚çš„ Python æ¨¡å— | é‡æ„, Python, æ¶æ„è®¾è®¡ |
| `17624181726174ABX9PTNHRH311HG` | API è®¾è®¡è®¨è®º | è®¨è®º RESTful API çš„è®¾è®¡æœ€ä½³å®è·µ | API, REST, è®¾è®¡ |

---

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### ç”Ÿæˆæµ‹è¯•æ•°æ®

```bash
# ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
python generate_test_data.py
```

### æŸ¥çœ‹ç”Ÿæˆçš„æ•°æ®

```bash
# è¿›å…¥ä»“åº“ç›®å½•
cd repo_root

# æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶
find projects -type f

# æŸ¥çœ‹æç¤ºè¯
ls -l projects/default/prompts/

# æŸ¥çœ‹æ¨¡ç‰ˆ
ls -l projects/default/templates/

# æŸ¥çœ‹å¯¹è¯å†å²
ls -l projects/default/chats/

# æŸ¥çœ‹ç´¢å¼•
cat .promptmeta/index.json | python -m json.tool
```

### æŸ¥çœ‹ Git å†å²

```bash
cd repo_root

# æŸ¥çœ‹æäº¤å†å²
git log --oneline

# æŸ¥çœ‹è¯¦ç»†æäº¤
git log --stat

# æŸ¥çœ‹å‘å¸ƒæ ‡ç­¾
git tag

# æŸ¥çœ‹æ ‡ç­¾è¯¦æƒ…
git show prompt/17624181723706T8HN33F0NQD6QF0/v1.0.0
```

---

## ğŸ“ ç›®å½•ç»“æ„

```
repo_root/
â”œâ”€â”€ .git/                              # Git ä»“åº“
â”œâ”€â”€ .promptmeta/                       # å…ƒæ•°æ®
â”‚   â”œâ”€â”€ index.json                    # ç´¢å¼•æ–‡ä»¶ï¼ˆ5 ä¸ªæç¤ºè¯ + 3 ä¸ªæ¨¡ç‰ˆï¼‰
â”‚   â”œâ”€â”€ index.lock                    # ç´¢å¼•é”
â”‚   â””â”€â”€ schema/                       # Schema ç›®å½•
â””â”€â”€ projects/
    â””â”€â”€ default/
        â”œâ”€â”€ prompts/                  # æç¤ºè¯ç›®å½•
        â”‚   â”œâ”€â”€ prompt_17624181723706T8HN33F0NQD6QF0.md  (å·²å‘å¸ƒ v1.0.0)
        â”‚   â”œâ”€â”€ prompt_17624181724103TE6T2WEETFAQ5PH.md  (å·²å‘å¸ƒ v1.0.0)
        â”‚   â”œâ”€â”€ prompt_176241817244206J50MDRNJSVMQW1.md  (å·²å‘å¸ƒ v1.0.0)
        â”‚   â”œâ”€â”€ prompt_1762418172474KXZHE0MVNG3ZKZFC.md  (è‰ç¨¿)
        â”‚   â””â”€â”€ prompt_17624181724983EXFK8YP9FDVF4XJ.md  (è‰ç¨¿)
        â”œâ”€â”€ templates/                # æ¨¡ç‰ˆç›®å½•
        â”‚   â”œâ”€â”€ template_1762418172522V46Z9ACQ91BNYDME.md
        â”‚   â”œâ”€â”€ template_1762418172546399G97XQ0CWVBHEV.md
        â”‚   â””â”€â”€ template_17624181725703J7B8F3DQQHGBE0A.md
        â””â”€â”€ chats/                    # å¯¹è¯å†å²ç›®å½•
            â”œâ”€â”€ chat_1762418172594N6KANY37VKC3JG48.json
            â””â”€â”€ chat_17624181726174ABX9PTNHRH311HG.json
```

---

## ğŸ“– æ–‡ä»¶æ ¼å¼è¯´æ˜

### æç¤ºè¯/æ¨¡ç‰ˆæ–‡ä»¶æ ¼å¼ (Markdown + YAML Front Matter)

```markdown
---
{
  "id": "17624181723706T8HN33F0NQD6QF0",
  "title": "ä»£ç å®¡æŸ¥åŠ©æ‰‹",
  "slug": "code-review-assistant",
  "description": "å¸®åŠ©å¼€å‘è€…è¿›è¡Œä»£ç å®¡æŸ¥ï¼Œæä¾›æ”¹è¿›å»ºè®®",
  "type": "prompt",
  "labels": ["å¼€å‘", "ä»£ç å®¡æŸ¥", "æœ€ä½³å®è·µ"],
  "created_at": "2025-11-06T16:36:12.370453",
  "updated_at": "2025-11-06T16:36:12.370465",
  "version": "1.0.0",
  "status": "draft"
}
---

# ä»£ç å®¡æŸ¥åŠ©æ‰‹

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä»£ç å®¡æŸ¥ä¸“å®¶...
```

### å¯¹è¯å†å²æ–‡ä»¶æ ¼å¼ (JSON)

```json
{
  "id": "1762418172594N6KANY37VKC3JG48",
  "title": "è®¨è®ºä»£ç é‡æ„æ–¹æ¡ˆ",
  "description": "ä¸ AI è®¨è®ºå¦‚ä½•é‡æ„ä¸€ä¸ªå¤æ‚çš„ Python æ¨¡å—",
  "tags": ["é‡æ„", "Python", "æ¶æ„è®¾è®¡"],
  "created_at": "2025-11-06T16:36:12.594126",
  "updated_at": "2025-11-06T16:36:12.594136",
  "messages": [
    {
      "role": "user",
      "content": "æˆ‘æœ‰ä¸€ä¸ª 500 è¡Œçš„ Python æ¨¡å—...",
      "timestamp": "2024-11-01T10:00:00Z"
    },
    {
      "role": "assistant",
      "content": "ç†è§£ä½ çš„å›°å¢ƒ...",
      "timestamp": "2024-11-01T10:01:00Z"
    }
  ]
}
```

---

## ğŸ”§ è„šæœ¬åŠŸèƒ½

### `generate_test_data.py` åŠŸèƒ½

1. **åˆå§‹åŒ– Git ä»“åº“**
   - é…ç½® Git ç”¨æˆ·ä¿¡æ¯ï¼ˆTest User <test@example.com>ï¼‰

2. **åˆ›å»ºæç¤ºè¯**
   - ç”Ÿæˆ 5 ä¸ªæç¤ºè¯æ–‡ä»¶ï¼ˆMarkdown + Front Matterï¼‰
   - æ¯ä¸ªæç¤ºè¯ç‹¬ç«‹ Git æäº¤
   - å‰ 3 ä¸ªæç¤ºè¯è‡ªåŠ¨å‘å¸ƒ v1.0.0 ç‰ˆæœ¬ï¼ˆprod channelï¼‰

3. **åˆ›å»ºæ¨¡ç‰ˆ**
   - ç”Ÿæˆ 3 ä¸ªæ¨¡ç‰ˆæ–‡ä»¶
   - åŒ…å«å˜é‡å®šä¹‰
   - æ¯ä¸ªæ¨¡ç‰ˆç‹¬ç«‹ Git æäº¤

4. **åˆ›å»ºå¯¹è¯å†å²**
   - ç”Ÿæˆ 2 ä¸ªå¯¹è¯è®°å½•ï¼ˆJSON æ ¼å¼ï¼‰
   - åŒ…å«å®Œæ•´çš„å¤šè½®å¯¹è¯
   - æ¯ä¸ªå¯¹è¯ç‹¬ç«‹ Git æäº¤

5. **æ›´æ–°ç´¢å¼•**
   - æ‰«ææ‰€æœ‰æç¤ºè¯å’Œæ¨¡ç‰ˆ
   - ç”Ÿæˆ `index.json` ç´¢å¼•æ–‡ä»¶
   - åŒ…å«å®Œæ•´çš„å…ƒæ•°æ®

### Git æ ‡ç­¾æ ¼å¼

å‘å¸ƒçš„ç‰ˆæœ¬ä½¿ç”¨æ³¨é‡Šæ ‡ç­¾ï¼ˆannotated tagï¼‰ï¼š

```
æ ‡ç­¾åç§°ï¼šprompt/{PROMPT_ID}/v1.0.0
æ ‡ç­¾æ¶ˆæ¯ï¼ˆJSONï¼‰ï¼š
{
  "channel": "prod",
  "notes": "Initial release of ä»£ç å®¡æŸ¥åŠ©æ‰‹",
  "released_at": "2025-11-06T16:36:12.370453",
  "version": "v1.0.0"
}
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. æµ‹è¯•å‰ç«¯ç•Œé¢

```bash
# å¯åŠ¨åç«¯
python manage.py runserver

# å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
./start-frontend.sh

# è®¿é—® http://localhost:3000
# ç°åœ¨å¯ä»¥çœ‹åˆ°ï¼š
# - Dashboard æ˜¾ç¤º 5 ä¸ªæç¤ºè¯ç»Ÿè®¡
# - Prompts åˆ—è¡¨æ˜¾ç¤ºæ‰€æœ‰æç¤ºè¯
# - 3 ä¸ªå·²å‘å¸ƒç‰ˆæœ¬
# - Timeline æ˜¾ç¤ºå†å²è®°å½•
```

### 2. æµ‹è¯• API ç«¯ç‚¹

```bash
# æŸ¥è¯¢æ‰€æœ‰æç¤ºè¯
curl http://127.0.0.1:8000/v1/search?project=default

# è·å–ç‰¹å®šæç¤ºè¯å†…å®¹
curl http://127.0.0.1:8000/v1/simple/prompts/17624181723706T8HN33F0NQD6QF0/content?ref=latest

# è·å–æ—¶é—´çº¿
curl http://127.0.0.1:8000/v1/simple/prompts/17624181723706T8HN33F0NQD6QF0/timeline?view=all

# è·å–å‘å¸ƒåˆ—è¡¨
curl http://127.0.0.1:8000/v1/detail/prompts/17624181723706T8HN33F0NQD6QF0/releases
```

### 3. æµ‹è¯•ç‰ˆæœ¬ç®¡ç†

```bash
cd repo_root

# æŸ¥çœ‹å‘å¸ƒçš„ç‰ˆæœ¬
git tag -l "prompt/*/v*"

# æŸ¥çœ‹ç‰ˆæœ¬è¯¦æƒ…
git show prompt/17624181723706T8HN33F0NQD6QF0/v1.0.0

# æŸ¥çœ‹æäº¤å†å²
git log --oneline --all --graph
```

### 4. æµ‹è¯•ç´¢å¼•åŠŸèƒ½

```bash
# æŸ¥çœ‹ç´¢å¼•å†…å®¹
cat repo_root/.promptmeta/index.json | python -m json.tool

# æµ‹è¯•ç´¢å¼•ä¿®å¤ï¼ˆé€šè¿‡ APIï¼‰
curl -X POST http://127.0.0.1:8000/v1/index/repair

# æµ‹è¯•ç´¢å¼•é‡å»ºï¼ˆé€šè¿‡ APIï¼‰
curl -X POST http://127.0.0.1:8000/v1/index/rebuild
```

---

## ğŸ”„ é‡æ–°ç”Ÿæˆæµ‹è¯•æ•°æ®

å¦‚æœéœ€è¦é‡æ–°ç”Ÿæˆå¹²å‡€çš„æµ‹è¯•æ•°æ®ï¼š

```bash
# 1. åˆ é™¤ç°æœ‰ä»“åº“
rm -rf repo_root

# 2. é‡æ–°åˆ›å»ºç›®å½•ç»“æ„
mkdir -p repo_root/.promptmeta/schema
mkdir -p repo_root/projects/default/{prompts,templates,chats}

# 3. åˆå§‹åŒ– Git
cd repo_root && git init && cd ..

# 4. è¿è¡Œç”Ÿæˆè„šæœ¬
python generate_test_data.py
```

---

## ğŸ“Š æµ‹è¯•æ•°æ®ç»Ÿè®¡

- **æ€»æ–‡ä»¶æ•°**ï¼š10 ä¸ª
  - 5 ä¸ªæç¤ºè¯æ–‡ä»¶ (`.md`)
  - 3 ä¸ªæ¨¡ç‰ˆæ–‡ä»¶ (`.md`)
  - 2 ä¸ªå¯¹è¯å†å²æ–‡ä»¶ (`.json`)

- **Git æäº¤æ•°**ï¼š10 ä¸ª
  - æ¯ä¸ªæ–‡ä»¶ä¸€ä¸ªç‹¬ç«‹æäº¤

- **Git æ ‡ç­¾æ•°**ï¼š3 ä¸ª
  - 3 ä¸ªæç¤ºè¯çš„ v1.0.0 å‘å¸ƒæ ‡ç­¾

- **ç´¢å¼•æ¡ç›®**ï¼š8 ä¸ª
  - 5 ä¸ªæç¤ºè¯ç´¢å¼•
  - 3 ä¸ªæ¨¡ç‰ˆç´¢å¼•

---

## âœ… éªŒè¯æ¸…å•

ç”Ÿæˆæµ‹è¯•æ•°æ®åï¼Œè¯·éªŒè¯ä»¥ä¸‹å†…å®¹ï¼š

- [ ] `repo_root/.git` ç›®å½•å­˜åœ¨
- [ ] `repo_root/.promptmeta/index.json` åŒ…å« 5 ä¸ªæç¤ºè¯å’Œ 3 ä¸ªæ¨¡ç‰ˆ
- [ ] `repo_root/projects/default/prompts/` åŒ…å« 5 ä¸ª `.md` æ–‡ä»¶
- [ ] `repo_root/projects/default/templates/` åŒ…å« 3 ä¸ª `.md` æ–‡ä»¶
- [ ] `repo_root/projects/default/chats/` åŒ…å« 2 ä¸ª `.json` æ–‡ä»¶
- [ ] `git log` æ˜¾ç¤º 10 ä¸ªæäº¤
- [ ] `git tag` æ˜¾ç¤º 3 ä¸ªæ ‡ç­¾
- [ ] å‰ç«¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºæ‰€æœ‰æ•°æ®
- [ ] API ç«¯ç‚¹å¯ä»¥æ­£å¸¸è®¿é—®

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šè„šæœ¬è¿è¡Œå¤±è´¥

```bash
# æ£€æŸ¥ Python ç¯å¢ƒ
python --version

# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
pwd
# åº”è¯¥æ˜¾ç¤ºï¼š/Users/guoyuchen/Documents/Project/MyPromptManager
```

### é—®é¢˜ 2ï¼šGit é…ç½®é”™è¯¯

```bash
cd repo_root
git config user.name
git config user.email

# å¦‚æœæ²¡æœ‰é…ç½®ï¼Œæ‰‹åŠ¨è®¾ç½®
git config user.name "Test User"
git config user.email "test@example.com"
```

### é—®é¢˜ 3ï¼šå‰ç«¯æ— æ³•æ˜¾ç¤ºæ•°æ®

```bash
# æ£€æŸ¥åç«¯æ˜¯å¦è¿è¡Œ
curl http://127.0.0.1:8000/v1/health

# æ£€æŸ¥ç´¢å¼•æ–‡ä»¶
cat repo_root/.promptmeta/index.json

# é‡å»ºç´¢å¼•
curl -X POST http://127.0.0.1:8000/v1/index/rebuild
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [README.md](README.md) - é¡¹ç›®æ€»è§ˆ
- [CLAUDE.md](CLAUDE.md) - API è§„èŒƒ
- [LOCAL_SETUP.md](LOCAL_SETUP.md) - æœ¬åœ°ä½¿ç”¨é…ç½®
- [USAGE_EXAMPLES.md](USAGE_EXAMPLES.md) - ä½¿ç”¨ç¤ºä¾‹

---

**ç”Ÿæˆæ—¶é—´**ï¼š2025-11-06
**ç‰ˆæœ¬**ï¼š1.0.0
**çŠ¶æ€**ï¼šâœ… å¯ç”¨
